webpackJsonp([4],{G7Ju:function(t,a){},qei0:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("rQLC"),i=e("mmMd"),n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"aside-create"},[a("header",{staticClass:"aside-title"},[this._v("\n    新建话题\n  ")]),this._v(" "),a("el-row",{staticClass:"marTB10",attrs:{align:"middle",justify:"center",type:"flex"}},[a("el-button",{attrs:{type:"primary"},on:{click:this.toCreate}},[this._v("点击创建")])],1)],1)},staticRenderFns:[]};var r=e("VU/8")({name:"AsideCreate",computed:{userInfo:function(){return this.$store.state.userInfo}},methods:{toCreate:function(){var t=this;this.userInfo.success?this.$router.push("/create"):this.$confirm("该操作需要用户登陆, 是否跳转登陆页?","提示",{confirmButtonText:"跳转",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push("/login")}).catch(function(a){t.$message({type:"warning",message:"已取消跳转  ╮(╯﹏╰）╭"})})}}},n,!1,function(t){e("G7Ju")},"data-v-440da2e7",null).exports,c=e("0xDb"),o={name:"Topics",data:function(){return{navbar:[{name:"全部",isActive:!0,tab:""},{name:"精华",isActive:!1,tab:"good"},{name:"分享",isActive:!1,tab:"share"},{name:"问答",isActive:!1,tab:"ask"},{name:"招聘",isActive:!1,tab:"job"},{name:"测试",isActive:!1,tab:"dev"}],data:[],tab:"",page:1,loading:!0}},created:function(){this.getTopics({})},methods:{changTopic:function(t){for(var a=this.navbar.length,e=0;e<a;e++)this.navbar[e].isActive=!1;this.navbar[t].isActive=!0,this.tab=this.navbar[t].tab,this.getTopics({tab:this.tab})},getTopics:function(t){var a=this;this.loading=!0,this.$api.getTopics(t).then(function(t){return JSON.parse(t)}).then(function(t){a.data=t.data,a.loading=!1}).catch(function(){a.loading=!1})},formatDate:function(t){return c.a.formatDate(t)},switchTabs:function(t){return c.a.switchTabs(t)},handleCurrentChange:function(t){this.getTopics({tab:this.tab,page:t})}},computed:{userInfo:function(){return this.$store.state.userInfo}},components:{"v-aside-user":s.a,"v-aside-qr":i.a,"v-aside-create":r}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-container",[e("el-main",{staticClass:"topics"},[e("ul",{staticClass:"topics-navbar"},t._l(t.navbar,function(a,s){return e("li",{key:s,class:{active:a.isActive},on:{click:function(a){return t.changTopic(s)}}},[t._v("\n        "+t._s(a.name)+"\n      ")])}),0),t._v(" "),e("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"topics-list",attrs:{"element-loading-text":"正在加载中..."}},t._l(t.data,function(a){return e("li",{key:a.id,staticClass:"topics-list-li"},[e("img",{staticClass:"topics-avatar",attrs:{src:a.author.avatar_url,title:a.author.loginname}}),t._v(" "),a.top?e("span",{staticClass:"topics-tabs topics-tabs-top"},[t._v("\n            置顶\n          ")]):e("span",{staticClass:"topics-tabs"},[t._v("\n            "+t._s(t.switchTabs(a.tab))+"\n          ")]),t._v(" "),e("div",{staticClass:"topics-list-content"},[e("router-link",{staticClass:"topics-title",attrs:{to:"/topics/"+a.id,title:a.title}},[t._v("\n              "+t._s(a.title)+"\n            ")]),t._v(" "),e("div",{staticClass:"topics-list-wrap"},[e("p",{staticClass:"topics-count"},[e("span",{attrs:{title:"回复数"}},[t._v(t._s(a.reply_count))]),t._v("\n                /\n                "),e("span",{attrs:{title:"点击数"}},[t._v(t._s(a.visit_count))])]),t._v(" "),e("span",{staticClass:"topics-time",attrs:{title:"最近回复时间"}},[t._v("\n                "+t._s(t.formatDate(a.last_reply_at))+"\n              ")])])],1)])}),0),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{"current-page":t.page,"page-size":100,layout:"prev, pager, next, jumper",total:1e3},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a}}})],1)]),t._v(" "),e("el-aside",{staticClass:"hidden-sm-and-down",attrs:{width:"200px"}},[e("v-aside-user",{attrs:{isMe:!0,userInfo:t.userInfo}}),t._v(" "),e("v-aside-create"),t._v(" "),e("v-aside-qr")],1)],1)},staticRenderFns:[]};var u=e("VU/8")(o,l,!1,function(t){e("wlCy")},"data-v-a90949f0",null);a.default=u.exports},wlCy:function(t,a){}});
//# sourceMappingURL=4.d1e64bac9b1c0160a302.js.map