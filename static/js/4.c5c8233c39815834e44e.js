webpackJsonp([4],{"21Jw":function(t,a){},jtPi:function(t,a){},qei0:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("rQLC"),i=s("mmMd"),n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"aside-create"},[a("header",{staticClass:"aside-title"},[this._v("\n    新建话题\n  ")]),this._v(" "),a("el-row",{staticClass:"marTB10",attrs:{align:"middle",justify:"center",type:"flex"}},[a("el-button",{attrs:{type:"primary"},on:{click:this.toCreate}},[this._v("点击创建")])],1)],1)},staticRenderFns:[]};var r=s("VU/8")({name:"AsideCreate",computed:{userInfo:function(){return this.$store.state.userInfo}},methods:{toCreate:function(){var t=this;this.userInfo.success?this.$router.push("/create"):this.$confirm("该操作需要用户登陆, 是否跳转登陆页?","提示",{confirmButtonText:"跳转",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push("/login")}).catch(function(a){t.$message({type:"warning",message:"已取消跳转  ╮(╯﹏╰）╭"})})}}},n,!1,function(t){s("jtPi")},"data-v-637024c7",null).exports,c=s("0xDb"),o={name:"Topics",data:function(){return{navbar:[{name:"全部",isActive:!0,tab:""},{name:"精华",isActive:!1,tab:"good"},{name:"分享",isActive:!1,tab:"share"},{name:"问答",isActive:!1,tab:"ask"},{name:"招聘",isActive:!1,tab:"job"},{name:"测试",isActive:!1,tab:"dev"}],data:[],tab:"",page:1}},created:function(){this.getTopics({})},methods:{changTopic:function(t){for(var a=this.navbar.length,s=0;s<a;s++)this.navbar[s].isActive=!1;this.navbar[t].isActive=!0,this.tab=this.navbar[t].tab,this.getTopics({tab:this.tab})},getTopics:function(t){var a=this;this.$api.getTopics(t).then(function(t){return JSON.parse(t)}).then(function(t){a.data=t.data})},formatDate:function(t){return c.a.formatDate(t)},switchTabs:function(t){return c.a.switchTabs(t)},handleCurrentChange:function(t){this.getTopics({tab:this.tab,page:t})}},computed:{userInfo:function(){return this.$store.state.userInfo}},components:{"v-aside-user":e.a,"v-aside-qr":i.a,"v-aside-create":r}},u={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("el-container",[s("el-main",{staticClass:"topics"},[s("ul",{staticClass:"topics-navbar"},t._l(t.navbar,function(a,e){return s("li",{key:e,class:{active:a.isActive},on:{click:function(a){t.changTopic(e)}}},[t._v("\n        "+t._s(a.name)+"\n      ")])})),t._v(" "),s("ul",{staticClass:"topics-list"},t._l(t.data,function(a){return s("li",{key:a.id,staticClass:"topics-list-li"},[s("img",{staticClass:"topics-avatar",attrs:{src:a.author.avatar_url,title:a.author.loginname}}),t._v(" "),a.top?s("span",{staticClass:"topics-tabs topics-tabs-top"},[t._v("\n            置顶\n          ")]):s("span",{staticClass:"topics-tabs"},[t._v("\n            "+t._s(t.switchTabs(a.tab))+"\n          ")]),t._v(" "),s("div",{staticClass:"topics-list-content"},[s("router-link",{staticClass:"topics-title",attrs:{to:"/topics/"+a.id,title:a.title}},[t._v("\n              "+t._s(a.title)+"\n            ")]),t._v(" "),s("div",{staticClass:"topics-list-wrap"},[s("p",{staticClass:"topics-count"},[s("span",{attrs:{title:"回复数"}},[t._v(t._s(a.reply_count))]),t._v("\n                /\n                "),s("span",{attrs:{title:"点击数"}},[t._v(t._s(a.visit_count))])]),t._v(" "),s("span",{staticClass:"topics-time",attrs:{title:"最近回复时间"}},[t._v("\n                "+t._s(t.formatDate(a.last_reply_at))+"\n              ")])])],1)])})),t._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":t.page,"page-size":100,layout:"prev, pager, next, jumper",total:1e3},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.page=a}}})],1)]),t._v(" "),s("el-aside",{staticClass:"hidden-sm-and-down",attrs:{width:"200px"}},[s("v-aside-user",{attrs:{isMe:!0,userInfo:t.userInfo}}),t._v(" "),s("v-aside-create"),t._v(" "),s("v-aside-qr")],1)],1)},staticRenderFns:[]};var l=s("VU/8")(o,u,!1,function(t){s("21Jw")},"data-v-43509656",null);a.default=l.exports}});
//# sourceMappingURL=4.c5c8233c39815834e44e.js.map